!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);o(1),o(2)},function(e,t){function o(e){const t=e.toString(16);return 1===t.length?"0"+t:t}function n(e,t,n){return"#"+o(e)+o(t)+o(n)}const r=[["00BCD4","FFEB3B","FFEB3B","00BCD4"],["FFEB3B","FFC107","FFC107","FFEB3B"],["FFEB3B","FFC107","FFC107","FFEB3B"],["00BCD4","FFEB3B","FFEB3B","00BCD4"]];window.onload=()=>{const e=localStorage.getItem("currentCanvas"),t=document.getElementById("canvas"),o=t.getContext("2d");let c=1;const l=document.getElementById("pencil"),d=document.getElementById("choose_color"),u=document.getElementById("paint_bucket"),a="0xFF0000FF",i=document.getElementById("red_color"),s=document.getElementById("blue_color"),g=document.getElementById("prev_color"),h=512,m="c29222b3f06bea411227ea9ea7b7878aed59e164737b3c4408060aca8a1c585f",f=document.getElementById("load-btn"),y=document.getElementById("black-and-white-btn");function p(e,t,o){"remove"===e?document.querySelector(o).classList.remove(t):"add"===e&&document.querySelector(o).classList.add(t)}if($((function(){$("#slider-range-pencil").slider({range:"min",value:512,min:128,max:512,step:128,slide:function(e,n){$("#pencil-size").val(n.value),function(e){const n=new Image;n.onload=()=>{t.width=e,t.height=e,c=512/e,o.drawImage(n,0,0,n.width,n.height,0,0,e,e)},n.src=t.toDataURL()}(n.value)}}),$("#pencil-size").val($("#slider-range-pencil").slider("value"))})),null===e)c=128,function(){for(let e=0;e<r.length;e++)for(let t=0;t<r[0].length;t++)o.fillStyle="#"+r[e][t],o.fillRect(t*c,e*c,c,c)}();else{const n=e,r=new Image;r.src=n,r.onload=function(){o.drawImage(r,0,0,r.width,r.height,0,0,t.width,t.height)}}let b=l;function v(e,t,o){if(t<0||o<0||t>=e.width||o>=e.height)return NaN;const n=e.data,r=4*(o*e.width+t);return(255&n[r+0])<<24|(255&n[r+1])<<16|(255&n[r+2])<<8|(255&n[r+3])<<0}function w(e,t,o,n){const r=4*(o*e.width+t),c=e.data;c[r+0]=n>>>24&255,c[r+1]=n>>>16&255,c[r+2]=n>>>8&255,c[r+3]=n>>>0&255}function F(e,t){if(isNaN(e)||isNaN(t))return 1/0;const o=(e>>>24&255)-(t>>>24&255),n=(e>>>16&255)-(t>>>16&255),r=(e>>>8&255)-(t>>>8&255),c=(e>>>0&255)-(t>>>0&255);return o*o+n*n+r*r+c*c}b.classList.add("selected-tool"),[l,d,u].forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".selected-tool").classList.remove("selected-tool"),e.classList.add("selected-tool"),b=e.getAttribute("id")})});let E=a;document.querySelector(".current-color").style.background="#FF0000";let k="0x808080FF";document.querySelector(".prev-color").style.background="#808080";const B=document.getElementById("select_color");function S(e,n,r){if(!I)return;const c=Math.floor(e*t.width/h),l=Math.floor(n*t.width/h),d=o.getImageData(c,l,1,1);for(let e=0;e<4;e+=4)d.data[e]=r>>>24&255,d.data[e+1]=r>>>16&255,d.data[e+2]=r>>>8&255,d.data[e+3]=r>>>0&255;o.putImageData(d,c,l)}B.addEventListener("input",(function(){document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background=B.value,k=E,E="0x"+B.value.substr(1)+"FF"}),!1),i.addEventListener("click",()=>{k=E,E=a,document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background="#"+E.substr(2,String(E).length-4)}),s.addEventListener("click",()=>{k=E,E="0x0000FFFF",document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background="#"+E.substr(2,String(E).length-4)}),g.addEventListener("click",()=>{let e=E;E=k,k=e,e=document.querySelector(".prev-color").style.background,document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background=e});let I=!1;t.addEventListener("mousemove",e=>{"pencil"==b&&b==l||([q,L]=[e.offsetX,e.offsetY],S(q,L,E))}),t.addEventListener("mousedown",e=>{"pencil"!==b&&b!==l||(I=!0,[q,L]=[e.offsetX,e.offsetY],S(q,L,E))}),t.addEventListener("mouseup",()=>I=!1),t.addEventListener("mouseout",()=>I=!1);let q=0,L=0;t.addEventListener("click",e=>{q=e.layerX,L=e.layerY,"paint_bucket"===b?function(e,t,o,r,c){const l=Math.floor(t*e.width/h),d=Math.floor(o*e.width/h);let u,a,i,s,g,m,f;const y=e.getContext("2d"),p=y.getImageData(l,d,1,1).data;if("0x"+n(p[0],p[1],p[2]).substr(1)+"FF"===E)return;const b=y.getImageData(0,0,e.width,e.height),k=[];for(let t=0;t<e.width;t++)k[t]=[];const B=v(b,l,d);for(c*=c,s=[[l,d]],k[l][d]=!0;u=s.pop();)if(F(v(b,m=u[0],f=u[1]),B)<=c){for(w(b,m,f,r),a=i=m;a>0&&F(v(b,a-1,f),B)<=c&&!k[--a][f];)w(b,a,f,r);for(;i<b.width-1&&F(v(b,i+1,f),B)<=c&&!k[++i][f];)w(b,i,f,r);for(m=a;m<=i;m++)f>0&&F(g=v(b,m,f-1),B)<=c&&(k[m][f-1]||(s.push([m,f-1]),k[m][f-1]=!0)),f<e.height-1&&F(g=v(b,m,f+1),B)<=c&&(k[m][f+1]||(s.push([m,f+1]),k[m][f+1]=!0))}y.putImageData(b,0,0,0,0,e.width,e.height)}(t,q,L,E,1):"choose_color"===b&&function(e,r){const c=Math.floor(e*t.width/h),l=Math.floor(r*t.width/h),d=o.getImageData(c,l,1,1).data;k=E,E="0x"+n(d[0],d[1],d[2]).substr(1)+"FF",document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background=n(d[0],d[1],d[2])}(q,L)}),document.addEventListener("keydown",e=>{66===e.keyCode?(b="paint_bucket",p("remove","selected-tool",".selected-tool"),p("add","selected-tool","#paint_bucket")):80===e.keyCode?(b="pencil",p("remove","selected-tool",".selected-tool"),p("add","selected-tool","#pencil")):67===e.keyCode&&(b="choose_color",p("remove","selected-tool",".selected-tool"),p("add","selected-tool","#choose_color"))}),f.addEventListener("click",()=>{!async function(e){const n=`https://api.unsplash.com/photos/random?query=town,${e}&client_id=${m}`,r=await fetch(n).then(e=>e.json()),c=new Image;c.crossOrigin="Anonymous",c.src=r.urls.small,c.onload=function(){const e=t.width/c.width,n=t.height/c.height,r=Math.min(e,n),l=(t.width-c.width*r)/2,d=(t.height-c.height*r)/2;o.fillStyle="rgb(192, 192, 192)",o.fillRect(0,0,t.width,t.height),o.drawImage(c,0,0,c.width,c.height,l,d,c.width*r,c.height*r)}}(document.getElementById("search-input").value)}),y.addEventListener("click",()=>{(()=>{const e=o.getImageData(0,0,t.width,t.height),n=e.data;for(let e=0;e<n.length;e+=4){const t=(n[e]+n[e+1]+n[e+2])/3;n[e]=t,n[e+1]=t,n[e+2]=t}o.putImageData(e,0,0)})()}),window.addEventListener("beforeunload",()=>{localStorage.setItem("currentCanvas",t.toDataURL())})},e.exports=n},function(e,t){const o=document.getElementById("login"),n=document.getElementById("output");o.addEventListener("click",e=>{e.preventDefault(),new netlify.default({}).authenticate({provider:"github",scope:"user"},(e,t)=>{n.innerText=e?"Error Authenticating with GitHub: "+e:"Authenticated with GitHub. Access Token: "+t.token})})}]);