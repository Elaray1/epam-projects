!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);o(1),o(2)},function(e,t){function o(e){let t=e.toString(16);return 1==t.length?"0"+t:t}function n(e,t,n){return"#"+o(e)+o(t)+o(n)}window.onload=function(){let e=localStorage.getItem("currentCanvas");const t=document.getElementById("canvas"),o=t.getContext("2d");let r=1;const c=[["00BCD4","FFEB3B","FFEB3B","00BCD4"],["FFEB3B","FFC107","FFC107","FFEB3B"],["FFEB3B","FFC107","FFC107","FFEB3B"],["00BCD4","FFEB3B","FFEB3B","00BCD4"]];if(null==e)r=128,function(){for(let e=0;e<c.length;e++)for(let t=0;t<c[0].length;t++)o.fillStyle="#"+c[e][t],o.fillRect(t*r,e*r,r,r)}();else{let n=e,r=new Image;r.src=n,r.onload=function(){o.drawImage(r,0,0,r.width,r.height,0,0,t.width,t.height)}}const l=document.getElementById("pencil"),d=document.getElementById("choose_color"),u=document.getElementById("paint_bucket");let a=l;function i(e,t,o){if(t<0||o<0||t>=e.width||o>=e.height)return NaN;let n=e.data,r=4*(o*e.width+t);return(255&n[r+0])<<24|(255&n[r+1])<<16|(255&n[r+2])<<8|(255&n[r+3])<<0}function s(e,t,o,n){let r=4*(o*e.width+t),c=e.data;c[r+0]=n>>>24&255,c[r+1]=n>>>16&255,c[r+2]=n>>>8&255,c[r+3]=n>>>0&255}function g(e,t){if(isNaN(e)||isNaN(t))return 1/0;let o=(e>>>24&255)-(t>>>24&255),n=(e>>>16&255)-(t>>>16&255),r=(e>>>8&255)-(t>>>8&255),c=(e>>>0&255)-(t>>>0&255);return o*o+n*n+r*r+c*c}a.classList.add("selected-tool"),[l,d,u].forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".selected-tool").classList.remove("selected-tool"),e.classList.add("selected-tool"),a=e.getAttribute("id")})});const h="0xFF0000FF";let m=h;document.querySelector(".current-color").style.background="#FF0000";let f="0x808080FF";document.querySelector(".prev-color").style.background="#808080";let y=document.getElementById("select_color");y.addEventListener("input",(function(){document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background=y.value,f=m,m="0x"+y.value.substr(1)+"FF"}),!1);const p=document.getElementById("red_color"),b=document.getElementById("blue_color"),v=document.getElementById("prev_color");function w(e,n,r){if(!F)return;e=Math.floor(e*t.width/S),n=Math.floor(n*t.width/S);const c=o.getImageData(e,n,1,1);for(let e=0;e<4;e+=4)c.data[e]=r>>>24&255,c.data[e+1]=r>>>16&255,c.data[e+2]=r>>>8&255,c.data[e+3]=r>>>0&255;o.putImageData(c,e,n)}p.addEventListener("click",()=>{f=m,m=h,document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background="#"+m.substr(2,String(m).length-4)}),b.addEventListener("click",()=>{f=m,m="0x0000FFFF",document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background="#"+m.substr(2,String(m).length-4)}),v.addEventListener("click",()=>{let e=m;m=f,f=e,e=document.querySelector(".prev-color").style.background,document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background=e});let F=!1;t.addEventListener("mousemove",e=>{"pencil"==a&&a==l||([E,k]=[e.offsetX,e.offsetY],w(E,k,m))}),t.addEventListener("mousedown",e=>{"pencil"!=a&&a!=l||(F=!0,[E,k]=[e.offsetX,e.offsetY],w(E,k,m))}),t.addEventListener("mouseup",()=>F=!1),t.addEventListener("mouseout",()=>F=!1);let E=0,k=0;t.addEventListener("click",e=>{E=e.layerX,k=e.layerY,"paint_bucket"==a?function(e,t,o,r,c){let l,d,u,a,h,f,y;t=Math.floor(t*e.width/S),o=Math.floor(o*e.width/S);let p=e.getContext("2d"),b=p.getImageData(t,o,1,1).data;if("0x"+n(b[0],b[1],b[2]).substr(1)+"FF"===m)return;let v=p.getImageData(0,0,e.width,e.height),w=[];for(let t=0;t<e.width;t++)w[t]=[];let F=i(v,t,o);for(c*=c,a=[[t,o]],w[t][o]=!0;l=a.pop();)if(g(i(v,f=l[0],y=l[1]),F)<=c){for(s(v,f,y,r),d=u=f;d>0&&g(i(v,d-1,y),F)<=c&&!w[--d][y];)s(v,d,y,r);for(;u<v.width-1&&g(i(v,u+1,y),F)<=c&&!w[++u][y];)s(v,u,y,r);for(f=d;f<=u;f++)y>0&&g(h=i(v,f,y-1),F)<=c&&(w[f][y-1]||(a.push([f,y-1]),w[f][y-1]=!0)),y<e.height-1&&g(h=i(v,f,y+1),F)<=c&&(w[f][y+1]||(a.push([f,y+1]),w[f][y+1]=!0))}p.putImageData(v,0,0,0,0,e.width,e.height)}(t,E,k,m,1):"choose_color"==a&&function(e,r){e=Math.floor(e*t.width/S),r=Math.floor(r*t.width/S);const c=o.getImageData(e,r,1,1).data;f=m,m="0x"+n(c[0],c[1],c[2]).substr(1)+"FF",document.querySelector(".prev-color").style.background=document.querySelector(".current-color").style.background,document.querySelector(".current-color").style.background=n(c[0],c[1],c[2])}(E,k)}),document.addEventListener("keydown",(function(e){66==e.keyCode?(a="paint_bucket",document.querySelector(".selected-tool").classList.remove("selected-tool"),u.classList.add("selected-tool")):80==e.keyCode?(a="pencil",document.querySelector(".selected-tool").classList.remove("selected-tool"),l.classList.add("selected-tool")):67==e.keyCode&&(a="choose_color",document.querySelector(".selected-tool").classList.remove("selected-tool"),d.classList.add("selected-tool"))}));const S=512;$((function(){$("#slider-range-pencil").slider({range:"min",value:512,min:128,max:512,step:128,slide:function(e,n){$("#pencil-size").val(n.value),function(e){const n=new Image;n.onload=()=>{t.width=e,t.height=e,r=512/e,o.drawImage(n,0,0,n.width,n.height,0,0,e,e)},n.src=t.toDataURL()}(n.value)}}),$("#pencil-size").val($("#slider-range-pencil").slider("value"))}));const B="c29222b3f06bea411227ea9ea7b7878aed59e164737b3c4408060aca8a1c585f";const I=document.getElementById("load-btn"),L=document.getElementById("black-and-white-btn");I.addEventListener("click",()=>{!async function(e){const n=`https://api.unsplash.com/photos/random?query=town,${e}&client_id=${B}`,r=await fetch(n).then(e=>e.json());let c=new Image;c.crossOrigin="Anonymous",c.src=r.urls.small,c.onload=function(){const e=t.width/c.width,n=t.height/c.height,r=Math.min(e,n),l=(t.width-c.width*r)/2,d=(t.height-c.height*r)/2;o.fillStyle="rgb(192, 192, 192)",o.fillRect(0,0,t.width,t.height),o.drawImage(c,0,0,c.width,c.height,l,d,c.width*r,c.height*r)}}(document.getElementById("search-input").value)}),L.addEventListener("click",()=>{(()=>{const e=o.getImageData(0,0,t.width,t.height),n=e.data;for(let e=0;e<n.length;e+=4){const t=(n[e]+n[e+1]+n[e+2])/3;n[e]=t,n[e+1]=t,n[e+2]=t}o.putImageData(e,0,0)})()}),window.addEventListener("beforeunload",()=>{localStorage.setItem("currentCanvas",t.toDataURL())})},e.exports=n},function(e,t){const o=document.getElementById("login"),n=document.getElementById("output");o.addEventListener("click",e=>{e.preventDefault(),new netlify.default({}).authenticate({provider:"github",scope:"user"},(e,t)=>{n.innerText=e?"Error Authenticating with GitHub: "+e:"Authenticated with GitHub. Access Token: "+t.token})})}]);